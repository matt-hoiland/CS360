#include <iostream>
#include <sstream>
#include <stdexcept>

#include <sys/stat.h>
#include <sys/types.h>
#include <unistd.h>

using namespace std;

int main(int argc, char** argv) {
	cout << "This is the part when..." << endl;

	bool debug = false;

	int option;
	while ((option = getopt(argc, argv, "d")) != -1) {
		switch (option) {
		case 'd' :
			debug = true;
			break;
		}
	}

	int port;
	istringstream num(argv[optind]);
	if (!(num >> port)) {
		cout << "USAGE: port should be a number, given: " << argv[optind] << endl;
		exit(-1);
	}

	const char* dir = argv[optind + 1];
	struct stat dirstat;


	return 0;
}
